<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise Chaining:- Asynchronous JavaScript</title>
  </head>
  <body>
    <h1>Promises-Chaining:- Asynchornous JavaScripts</h1>

    <script>
      let body = document.body;
      body.style.backgroundColor = "black";
      body.style.color = "white";
      body.style.textAlign = "center";

      // Example.1
      //   const promise1 = new Promise(function (reslove, reject) {
      //     setTimeout(() => {
      //       let error = true;
      //       if (!false) {
      //         reslove({ userName: "Ankit", password: "12345" });
      //       } else {
      //         reject("Something went wrong");
      //       }
      //     }, 1000);
      //   });

      //   promise1
      //     .then((data) => {
      //       console.log(data);
      //       return data.userName;
      //     })
      //     .then((userName) => {    // .then() ke ander ek aur .then() wale ko bolte hai chaining
      //       console.log(userName);
      //     })
      //     .catch((error) => {
      //       console.log(error);
      //     });

      /******************************* Example.2 ****************************************/
      /*Ques.
        learn frontEnd,
        learn backEnd
        learn cloud & microservices
        Failed In Interview
       */

      //   const promiseOne = new Promise((resolve, reject) => {
      //     return resolve("learn frontend");
      //   });

      //   // part-1
      //   let promiseTwo = promiseOne.then((data) => {
      //     console.log(data);        // learn frontEnd
      //     return new Promise((resolve, reject) => {
      //       return resolve("learn backEnd");
      //     });
      //   });

      //   // part-2
      //   let promiseThree = promiseTwo.then((data) => {
      //     console.log(data);   // leran backEnd
      //     return new Promise((resolve, reject) => {
      //       return resolve("learn cloud & microservices");
      //     });
      //   });

      //   // part-3
      //   final = promiseThree.then((data) => {
      //     console.log(data);   // learn cloud & microservices
      //     return new Promise((reslove, reject) => {
      //       return reject("Failed in Interview");
      //     });
      //   });

      //   final
      //     .then((data) => {
      //       console.log(data);
      //     })
      //     .catch((error) => {
      //       console.log(error);    // failed in Interview
      //     });
      //   console.log(promiseOne);
      //   console.log(promiseTwo);

      /***************** Example.3 Prmoise channing Method 2 ***************/
      //   let p1 = new Promise((resolve, reject) => {
      //     return resolve("learn frontend");
      //   });

      //   let p2 = new Promise((resolve, reject) => {
      //     return resolve("learn backEnd");
      //   });

      //   let p3 = new Promise((resolve, reject) => {
      //     return resolve("learn MicroServies");
      //   });

      //   // saare case resolve honge tab print hoga sare, Agar Ek vi reject case huwa toh rejected wala print ho jaega
      //   let result = Promise.all([p1, p2, p3]);

      //   result
      //     .then((data) => {
      //       console.log(data);
      //     })
      //     .catch((error) => {
      //       console.log(error);
      //     });

      /******************************** Example. 4 *****************************/
      // function asyncFun1() {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       resolve("Success-1");
      //     }, 3000);
      //   });
      // }

      // function asyncFun2() {
      //   return new Promise((resolve, reject) => {
      //     setTimeout(() => {
      //       resolve("Success-2");
      //     }, 3000);
      //   });
      // }

      // let p1 = asyncFun1();
      // p1.then((result) => {
      //   console.log(result);
      //   console.log("fetching data...");
      //   let p2 = asyncFun2();    // usi ke ander call kr rhe hai promise 2 ko vi
      //   p2.then((result) => {
      //     console.log(result);
      //   });
      // });

      /************************ Example.5 *********************************/
      const P1 = new Promise((resolve, reject) => {
        // setTimeout(resolve, 1000, "First");
        setTimeout(() => {
          resolve("First");
        }, 1000);    // upar wale line ka matlab same yahi hai
      });

      const P2 = new Promise((resolve, reject) => {
        setTimeout(resolve, 2000, 'Second')
      })

      const P3 = new Promise((resolve, reject) => {
        setTimeout(reject, 3000, 'Third')
      })

      Promise.all([P1, P2, P3])
      .then((message) => {
        console.log(message);
      }).catch((error)=>{
        console.log(error) 
      })

    </script>
  </body>
</html>
